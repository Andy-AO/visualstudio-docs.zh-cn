---
title: 浏览和重新排列代码图 |Microsoft Docs
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-ide-modeling
ms.topic: conceptual
f1_keywords:
- vs.progression.dgmlgraph.layouthelp
- vs.progression.graphdocument
- vs.progression.dgmlgraph.message.notUlt.noexpandgroup
- vs.progression.colorsetpicker
- vs.progression.iconsetpicker
helpviewer_keywords:
- Visual Studio Ultimate, dependency graphs
- code visualization [Visual Studio ALM]
- graph documents, browsing
- Visual Studio ALM, dependency graphs
- code visualization
- Visual Studio ALM, graph documents
- Visual Studio Ultimate, graph documents
- dependency graphs, browsing
ms.assetid: 08f65f77-6ca7-4b25-b060-3f6c9f5847a4
caps.latest.revision: 91
author: gewarren
ms.author: gewarren
manager: jillfra
ms.openlocfilehash: ffb29ee31390c512802bfd16c7b94333d0c6c403
ms.sourcegitcommit: 47eeeeadd84c879636e9d48747b615de69384356
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/23/2019
ms.locfileid: "63433442"
---
# <a name="browse-and-rearrange-code-maps"></a>浏览和重新排列代码图
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

重新排列代码图上的项目，以使它们更易于读取并改进其性能。  
  
 你可以自定义代码图而不会影响解决方案中的基础代码。 当你希望将重点放在关键代码元素或交流有关代码的想法时，这很有用。 例如，若要突出显示感兴趣的区域，你可以在图上选择代码元素并筛选它们，更改代码元素和链接的样式，隐藏或删除代码元素，以及使用属性、类别或组来组织代码元素。  
  
 **要求**  
  
- 若要创建代码图，必须具有 Visual Studio Enterprise。  
  
- 你可以查看代码图，并在 Visual Studio Professional 中对代码图进行有限的编辑。  
  
## <a name="ManageLargeGraphs"></a> 开始使用代码图  
 创建代码图 (请参阅[映射解决方案之间的依赖项](../modeling/map-dependencies-across-your-solutions.md)的更多详细信息)。 如果不想等待完成的生成，请单击该代码图**取消**上随时要停止的生成过程的链接。 但是，如果进行此操作，将无法看到所有依赖项和链接。  
  
 生成代码图后，使用这些提示来审查代码：  
  
- 查看代码中的自然依赖项群集。 在代码图工具栏上选择**布局**，**快速群集**![关系图工具栏上的快速群集按钮](../modeling/media/quickclustersicon.gif "QuickClustersIcon")。 请参阅[更改代码图布局](#Selecting)。  
  
     ![依赖项关系图&#45;快速群集布局](../modeling/media/dependencygraph-quickclusters.png "DependencyGraph_QuickClusters")  
  
- 通过对相关节点分组，将代码图组织成更小的区域。 折叠这些组，以仅查看组与组之间的依赖项，这些依赖项会自动显示。 请参阅[节点进行分组](#OrganizeGroups)。  
  
- 使用筛选器简化代码图，并将重点放在节点类型或你感兴趣的链接上。 请参阅[筛选节点和链接](#FilterNodes)。  
  
- 实现大型代码图性能的最大化。 请参阅[映射解决方案之间的依赖项](../modeling/map-dependencies-across-your-solutions.md)有关详细信息。例如，开启**跳过生成**以便更新在地图上的项目时，Visual Studio 不会重新生成你的解决方案图工具栏上。  
  
## <a name="Selecting"></a> 更改代码图布局  
  
|**若要**|**执行这些步骤**|  
|------------|-----------------------------|  
|为特定方向中的整个代码图排列依赖项流。 这可以帮助你查看代码中的体系结构层。|在代码图工具栏上选择**布局**，，然后：<br /><br /> -   **从上到下**![顶部到底部关系图按钮](../modeling/media/topbottomgraphbutton.gif "TopBottomGraphButton")<br />-   **从下到上**![底部到顶部的关系图按钮](../modeling/media/bottomtopgraphbutton.gif "BottomTopGraphButton")<br />-   **从左到右**![从左到右布局按钮](../modeling/media/leftrightgraphbutton.gif "LeftRightGraphButton")<br />-   **从右到左**![从右到左的关系图按钮](../modeling/media/rightleftgraphbutton.gif "RightLeftGraphButton")|  
|在集群中心依赖项节点最多，且在集群外依赖项节点最少的代码中查看自然依赖项集群。|在代码图工具栏上选择**布局**，然后**快速群集**![关系图工具栏上的快速群集按钮](../modeling/media/quickclustersicon.gif "QuickClustersIcon")。|  
|在代码图上选择一个或多个节点。|单击某个节点，以将其选中。 若要选择或取消选择多个节点，请按住**CTRL**时单击。<br /><br /> 键盘： 按**选项卡**或使用箭头键将聚焦虚的框移到节点，然后按**空间**以将其选中。 按**CTRL** + **空间**进行多选或取消选择节点。|  
|在代码图上移动特定的节点。|拖动节点以对其进行移动。 若要移动的其他节点和链接不妨碍在你拖动节点，按下并保持**SHIFT**密钥。<br /><br /> 键盘： 按住**CTRL**按箭头键。|  
|更改独立于代码图上其他节点和组的组内的布局。|选择一个节点，然后打开快捷菜单。 选择**布局**，然后选择一种布局样式。<br /><br /> - 或 -<br /><br /> 选择一个节点并将其展开以显示子节点。 单击该节点标题以显示组弹出窗口工具栏，然后打开**更改组的布局样式**![依赖项关系图&#45;组工具栏&#45;布局](../modeling/media/dependencygraph-grouptoolbar.gif "DependencyGraph_GroupToolbar")列表。 选择一个树形布局**快速群集**，或**列表视图**（排列组的内容为列表）。<br /><br /> 请参阅[节点进行分组](#OrganizeGroups)的更多详细信息。|  
|在代码图中撤消操作。|按**CTRL** + **Z**或使用 Visual Studio**撤消**命令。|  
  
## <a name="Explore"></a> 浏览该代码图  
  
|**若要**|**执行这些步骤**|  
|------------|-----------------------------|  
|扫描代码图。|使用鼠标将代码图拖动至任意方向。<br /><br /> - 或 -<br /><br /> 保存**SHIFT**并旋转鼠标滚轮以进行水平滚动。 保存**SHIFT** + **CTRL**并旋转鼠标滚轮以进行水平滚动。|  
|放大或缩小代码图。|旋转鼠标滚轮。<br /><br /> - 或 -<br /><br /> 使用**缩放**代码图工具栏上的下拉列表。<br /><br /> - 或 -<br /><br /> 使用键盘快捷键。 若要放大，按**CTRL + SHIFT +。** （句点）。 若要缩小，按**CTRL + SHIFT +，** （逗号）。|  
|使用鼠标放大特定区域。|按住鼠标右键，同时在你感兴趣的区域周围绘制一个矩形。|  
|调整大小，以适应其窗口内的代码图。|选择**缩放到合适大小**从**缩放**代码图工具栏上的列表。<br /><br /> - 或 -<br /><br /> 单击**缩放到合适大小**图标![图工具栏上的缩放图标](../modeling/media/almcodemapzoomicon.png "ALMCodeMapZoomIcon")代码图工具栏上。 键盘： 按**CTRL + 0** （零）。|  
|按名称在代码图上查找节点。 **提示：** 这只对代码图上的项有效。 若要在解决方案中但不是在地图上查找项中, 找到这些**解决方案资源管理器**，然后将其拖到代码图。 (拖动你的选择，或在解决方案资源管理器工具栏上，单击**在代码图上显示**)。|1.选择**查找**图标![图工具栏上的查找图标](../modeling/media/almcodemapfindicon.png "ALMCodeMapFindIcon")代码图工具栏上 (键盘： 按**CTRL + F**) 以显示在映射中的右上角的搜索框。<br />2.键入项目名称并按**返回**或单击"放大镜"图标。 与你搜索匹配的第一项显示为地图上选中状态。<br />3.若要自定义你的搜索，请打开下拉列表，并选择一个搜索选项。 选项包括**查找下一步**，**查找上一个**，并**全**。 然后单击搜索文本框旁边的相应按钮。<br />     ![搜索选项下拉&#45;列表中向下](../modeling/media/almcodemapssearchdropdown.png "ALMCodeMapsSearchDropDown")<br />     或者，使用键盘： 按**F3**以选择下一个匹配节点或**SHIFT + F3**选择上一个匹配节点。<br />4.通过单击搜索文本框下的图标，选择任意一个指定搜索条件处理方式的选项。<br />     ![搜索匹配选项](../modeling/media/almcodemapssearchmatchicons.png "ALMCodeMapsSearchMatchIcons")<br />     选项为从左到右、匹配大小写、仅全字匹配、使用 .NET 正则表达式语法以及自动展开组以显示匹配的包含项。 **重要提示：** 只有当这些组之前曾展开过，才可以使用搜索框在折叠组中查找匹配。 若要查找这些匹配并自动展开其父组，选择搜索框下的这个选项。|  
|选择所有未选定节点。|打开所选节点的快捷菜单。 选择**选择**，**反向选择**。|  
|选择链接到所选节点的其他节点。|打开所选节点的快捷菜单。 选择**选择**和以下其中之一：<br /><br /> -若要选择与所选节点直接链接的其他节点，选择**传入依赖项**。<br />-到直接从所选节点中选择链接的其他节点，请选择**传出依赖项**。<br />-若要选择链接直接与所选节点的其他节点，选择**同时**。<br />-若要选择链接到与所选节点的所有节点，选择**连接子关系图**。<br />-若要选择所选节点的所有子级，选择**子级**。|  
  
## <a name="FilterNodes"></a> 筛选器节点和链接  
  
|**若要**|**执行这些步骤**|  
|------------|-----------------------------|  
|显示或隐藏“筛选器”窗格。|选择**筛选器**代码图工具栏上的按钮。 默认情况下，“筛选器”窗格在解决方案资源管理器窗口中显示为选项卡式页。|  
|筛选显示在代码图上的节点类型。|设置或清除复选框**代码元素**筛选器窗格中的列表。|  
|筛选显示在代码图上的连接类型。|设置或清除复选框**关系**筛选器窗格中的列表。|  
|在代码图上显示或隐藏测试项目节点。|设置或清除**测试资产**中的复选框**杂项**筛选器窗格中的列表。|  
  
 代码图“图例”面板中显示的图标反映出你在列表中所做的设置。 若要显示或隐藏图例面板中，单击**图例**代码图工具栏上的按钮。  
  
## <a name="Inspect"></a> 检查节点和链接  
 代码图显示这些类型的链接：  
  
- 单个链接表示两个节点之间的单一关系。  
  
- 跨组链接表示不同组中的两个节点之间的关系。  
  
- 聚合链接表示两个组之间所有指向同一方向的关系。  
  
> [!TIP]
> 默认情况下，代码图仅对所选节点显示跨组链接。 若要更改此行为，以显示或隐藏组之间的聚合的链接，请单击**布局**的代码图工具栏，然后选择**高级**，然后**显示所有跨组链接**或**隐藏所有跨组链接**。 请参阅[隐藏或显示节点和链接](#HidingShowing)的更多详细信息。  
  
|**若要**|**执行这些步骤**|  
|------------|-----------------------------|  
|查看有关某一节点或链接的详细信息。|将鼠标指针移至节点或链接上，直至出现工具提示。<br /><br /> 聚合链接的工具提示将列出其所代表的各个依赖项。<br /><br /> - 或 -<br /><br /> 打开节点或链接的快捷菜单。 选择**编辑**，**属性**。|  
|显示或隐藏组的内容。|-若要展开组，打开节点的快捷菜单，然后选择**组**，**展开**。<br />     - 或 -<br />     将鼠标指针移动至节点上方，直至出现 V 形（下箭头）按钮。 单击此按钮以展开该组。 键盘： 若要展开或折叠选定的组，请按**加上**密钥 ( **+** ) 或**减去**密钥 ( **-** ).<br />-若要折叠组，请打开节点的快捷菜单，然后选择**组**，**折叠**。<br />     - 或 -<br />     将鼠标指针移动至组上方，直至出现 V 形（上箭头）按钮。 单击此按钮以折叠该组。<br />-若要展开所有组，请按**CTRL** + **A**以选择所有节点。 打开代码图的快捷菜单，然后选择**组**，**展开**。 **注意：**     如果展开所有组生成了不可用的代码图或内存问题，则此命令不可用。 建议仅将代码图展开至你关心的详细程度。<br />-若要折叠所有组，请打开节点或代码图的快捷菜单。 选择**组**，**全部折叠**。|  
|请参阅命名空间、类型或成员的代码定义。|打开节点的快捷菜单，然后选择**转到定义**。<br /><br /> 或<br /><br /> 双击该节点。 对于已展开的组，双击组的标头。<br /><br /> 或<br /><br /> 选择节点，然后按**F12**。<br /><br /> 例如：<br /><br /> -对于包含一个类的命名空间，类的代码文件将打开以显示该类的定义。 在其他情况下，**查找符号结果**窗口显示代码文件的列表。 **注意：**     在 Visual Basic.NET 命名空间上执行此任务时，该命名空间后的代码文件不会打开。 在包括 Visual Basic .NET 命名空间在内的一组所选节点上执行此任务时也会出现该问题。 若要解决此问题，请手动浏览命名空间后的代码文件，或从你的选择中忽略命名空间的节点。<br />-对于一个类或分部类，该类的代码文件将打开以显示类定义。<br />-对于方法，父类的代码文件将打开以显示方法定义。|  
|检查依赖项和参与聚合链接的项。|选择你感兴趣的链接，并打开所选内容的快捷菜单。 选择**显示参与链接**或**新代码图上显示参与链接**。<br /><br /> Visual Studio 将展开位于链接两端的组，且仅显示参与链接的项和依赖项。 **注意：** 在检查分部组的项之间的依赖项时，可能会看到这种行为： <ul><li>不参与检查的项链接会从代码图中消失，尽管这些链接依然存在。</li><li>假设你在分部组中检查项链接，然后检查相同项的其他链接。 在第二个检查中，目标分部组仅显示第一个检查的项。 没有参与第一个检查，但参与了第二个检查的链接和目标项不会出现。</li></ul> 若要查看组中缺少的项，请选择**重新提取子级**![重新提取子级图标](../modeling/media/dependencygraph-deletednodesicon.png "DependencyGraph_DeletedNodesIcon") (表示并非所有成员组显示在映射上）。 此外可以尝试撤消操作 (键盘： 按**CTRL + Z**) 并检查新图上的依赖项。|  
|检查不同组中多个节点之间的依赖关系。|展开组，以便你可以看到其所有子级。 选择包括其子级在内的，你感兴趣的所有节点。 代码图显示所选的节点之间的跨组链接。<br /><br /> 若要选择组中的所有节点，请按住**SHIFT**和鼠标左键的同时您周围绘制一个矩形该组。 若要选择在地图上的所有节点，请按**CTRL**+**A**。 **提示：** 若要始终显示跨组链接，请选择**布局**图工具栏上**高级**，**显示所有跨组链接**。|  
|请参阅节点或链接引用的项。|打开节点的快捷菜单，然后选择**查找所有引用**。 **注意：** 仅当代码图.dgml 文件中的节点或链接设置了 `Reference` 属性时适用。 若要添加对项目的节点或链接，请参阅[通过编辑 DGML 文件自定义代码图](../modeling/customize-code-maps-by-editing-the-dgml-files.md)。|  
  
## <a name="HidingShowing"></a> 隐藏或显示节点和链接  
 隐藏节点将阻止节点参与布局算法。 默认情况下，将隐藏跨组链接。 跨组链接是连接跨组节点的单个链接。 如果组处于折叠状态，则代码图会将所有跨组链接聚合为组之间的单个链接。 当你展开一个组并选择该组内的节点时，跨组链接将出现并将显示组内的依赖项。  
  
> [!CAUTION]
> 在你与使用 Visual Studio Professional 的用户共享在 Visual Studio Enterprise 中创建的代码图之前，请确保取消隐藏你希望其他人看到的所有节点或跨组链接。 否则，这些用户将无法取消隐藏这些项目。  
  
### <a name="to-hide-or-show-nodes"></a>隐藏或显示节点  
  
|**若要**|**执行这些步骤**|  
|------------|-----------------------------|  
|隐藏所选节点。|1.选择要隐藏的节点。<br />2.打开所选节点或代码图的快捷菜单。 选择**选择**，**隐藏所选**。|  
|隐藏未选定节点。|1.选择要保持可见的节点。<br />2.打开所选节点或代码图的快捷菜单。 选择**选择**，**隐藏未选定的**。|  
|显示隐藏节点。|-若要显示组内的所有隐藏的节点，首先请确保展开组。 打开快捷菜单，然后选择**选择**，**取消隐藏子级**。<br />     - 或 -<br />     单击**取消隐藏子级**![取消隐藏子级图标](../modeling/media/dependencygraph-filtericon-hiddennodes.gif "DependencyGraph_FilterIcon_HiddenNodes") （这是唯一时，可看到组左上角的图标没有隐藏的子节点）。<br />-若要显示所有隐藏的节点，打开代码图或节点的快捷菜单，然后选择**选择**，**全部取消隐藏**。|  
  
### <a name="to-hide-or-show-links"></a>隐藏或显示链接  
  
|**若要**|**在代码图工具栏上选择布局，高级，然后选择**|  
|------------|----------------------------------------------------------------------|  
|始终显示跨组链接。|**显示所有跨组链接**。 这将隐藏组之间的聚合链接。|  
|始终隐藏跨组链接。|**隐藏所有跨组链接**|  
|仅显示所选节点的跨组链接。|**显示所选节点的跨组链接**|  
|隐藏所有链接。|**隐藏所有链接**。 若要再次显示链接，请选择上述选项之一。|  
  
## <a name="OrganizeGroups"></a> 组节点  
  
|**若要**|**执行这些步骤**|  
|------------|-----------------------------|  
|将容器节点显示为组节点或叶节点。|若要显示为叶节点的容器节点： 选择的节点，打开快捷菜单上，为所选内容，然后选择**组**，**转换为叶**。<br /><br /> 若要为组节点的容器节点显示： 选择的节点，打开快捷菜单上，为所选内容，然后选择**组**，**转换为组**。|  
|更改组内部的布局。|选择的组，打开快捷菜单，选择**布局**，并选择所需的布局样式。<br /><br /> - 或 -<br /><br /> 1.选择该组，并确保其处于展开状态。<br />2.再次单击组头，会出现组工具栏。<br />     ![依赖项关系图&#45;组工具栏](../modeling/media/dependencygraph-group.png "DependencyGraph_Group")<br />3.打开**更改组的布局样式**列表![依赖项关系图&#45;组工具栏&#45;布局](../modeling/media/dependencygraph-grouptoolbar.gif "DependencyGraph_GroupToolbar") ，然后选择所需的布局样式。<br /><br /> **列表视图**重新排列到列表中的组的成员。 **关系图默认值**将组布局重置为映射默认布局。 有关其他选项，请参阅[更改代码图布局](#Selecting)。|  
|将节点添加到组。|将节点拖至组上。<br /><br /> 拖动该节点时，Visual Studio 会显示一个指示器以显示你正在移动该节点。<br /><br /> 你还可以将节点拖出组。|  
|将节点添加到非组节点。|将节点拖至目标节点上。 通过向其添加节点，你可以将任何目标节点转换为组。|  
|将选定节点进行分组。|1.选择要分组的节点。 弹出窗口工具栏会出现在你选择的最后一个节点上。<br />     ![依赖项关系图工具栏](../modeling/media/depedencygraph-toolbar.png "DepedencyGraph_Toolbar")<br />2.在工具栏中，选择第四个图标**选定的节点进行分组**（如果该节点展开它将具有五个而不是四个图标）。 键入新组并按名称**返回**。<br />     - 或 -<br />     选择你想要进行分组的节点，然后打开所选节点的快捷菜单。 选择**组**，**添加父组**，键入新组，然后按名称**返回**。<br /><br /> 你可以重命名组。 打开组的快捷菜单，然后选择**编辑**，**属性**打开 Visual Studio 属性窗口。 在中**标签**属性，重命名为所需的组。|  
|移除组。|选择你要移除的一个或多个组。 打开所选内容的快捷菜单，然后选择**组**，**删除组**。|  
|从其父组中移除节点。|选择要移动的节点。 打开所选内容的快捷菜单，然后选择**组**，**从父级移除**。 这会移除节点，直至其祖父级，或者，如果其没有祖父组，则移除组外部的节点。<br /><br /> - 或 -<br /><br /> 选择节点并将其拖出组。|  
  
## <a name="AddRemoveNodesLinks"></a> 添加、 删除或重命名节点、 链接和注释  
 可以在代码图上显示更多或更少项，以便向下钻取或简化代码图。 你也可以重命名项，并将注释添加到项。  
  
> [!CAUTION]
> 在你与使用 Visual Professional 的用户共享使用 Visual Studio Enterprise 创建的代码图之前，请确保你希望其他人看到的代码元素在代码图上可见。 否则，这些用户将无法检索已删除的代码元素。  
  
### <a name="add-a-node-for-a-code-element"></a>为代码元素添加节点  
  
|**若要**|**执行这些步骤**|  
|------------|-----------------------------|  
|在当前鼠标指针位置添加一个新的一般节点。|1.将鼠标指针移动到的位置在地图上想要放置新代码元素并按**插入**。<br />     - 或 -<br />     打开代码图的快捷菜单，然后选择**编辑**，**添加**，**一般节点**。<br />2.键入新节点，然后按名称**返回**。|  
|在当前鼠标指针位置添加特定类型的代码元素节点。|1.将鼠标指针移动到代码图上你想要放置新代码元素的位置，并打开代码图的快捷菜单。<br />2.选择**编辑**，**添加**，并选择所需的节点的类型。<br />3.键入新节点，然后按名称**返回**。|  
|向组中添加一个一般或特定类型的代码元素节点。|1.选择组节点，然后打开快捷菜单。<br />2.选择**编辑**，**添加**，并选择所需的节点的类型。<br />3.键入新节点，然后按名称**返回**。|  
|添加一个链接自现有节点的同类型的新节点。|1.选择代码元素。 其上方会出现一个弹出窗口工具栏。<br />     ![依赖项关系图工具栏](../modeling/media/depedencygraph-toolbar.png "DepedencyGraph_Toolbar")<br />2.在工具栏中，选择第二个图标**与此节点的类别创建一个节点，并向其添加新链接**。<br />3.在代码图上选择一个位置放置新代码元素，并单击鼠标左键。<br />4.键入新节点，然后按名称**返回**。|  
|添加一个新的一般节点，其链接自具有焦点的现有代码元素。|1.使用键盘，按**选项卡**要从链接的代码元素直到选中 （虚框）。<br />2.按**Alt**+**插入**。<br />3.键入新节点，然后按名称**返回**。|  
|添加一个新的一般节点，其将链接至具有焦点的现有代码元素。|1.使用键盘，按**选项卡**要链接到的代码元素直到选中 （虚框）。<br />2.按**Alt**+**Shift**+**插入**。<br />3.键入新节点，然后按名称**返回**。|  
  
|**若要添加的代码元素**|**执行这些步骤**|  
|----------------------------------|-----------------------------|  
|解决方案中的代码元素。|1.查找中的代码元素**解决方案资源管理器**。 使用**解决方案资源管理器**搜索框或浏览解决方案。 **提示：**    若要查找的类型或成员具有依赖项的代码元素，打开类型或成员中的快捷菜单**解决方案资源管理器**。 选择你感兴趣的关系。 **解决方案资源管理器**仅显示这些代码元素与指定的依赖项。<br />2.将你感兴趣的代码元素拖动到代码图图面。 你也可以从“类视图”或“对象浏览器”拖动代码元素。<br />     - 或 -<br />     在中**解决方案资源管理器**，选择你想要映射的代码元素。 然后，在**解决方案资源管理器**工具栏上，单击**在代码图上显示**。<br /><br /> 默认情况下，新代码元素的父容器层次结构会显示在代码图上。 使用**包括父级**要更改此行为的代码图工具栏上的按钮。 关闭时，只有代码元素本身会被添加到代码图中。 若要反转此行为只是一个拖放操作，请按住**CTRL**键的同时将代码元素拖动到代码图。<br /><br /> Visual Studio 将为你的选定内容中的顶级代码元素项添加代码元素。 若要查看一个代码元素是否包含其他代码元素，请将鼠标指针移动到代码元素上，以便显示 V 形（下箭头）。 选择 V 形以展开代码元素。 若要展开所有代码元素，按**CTRL**+**一个**若要选择所有元素，打开映射的快捷菜单，然后选择**组**，**都展开**. 如果展开所有组可能产生不可用的代码图或导致内存不足问题，则此命令不可用。|  
|代码元素与代码图上的代码元素相关。|单击**显示相关**按钮代码图工具栏上，选择你感兴趣的相关项的类型。<br /><br /> - 或 -<br /><br /> 打开代码元素的快捷菜单。 选择其中一个**显示...** 根据你感兴趣的关系种类菜单上的项。 例如，你可以看到当前项引用的项、引用当前项的项、类的基类型和派生类型、方法调用方、包含类、命名空间和程序集。<br /><br /> 有关更多详细信息，请参阅[本主题](../modeling/map-dependencies-across-your-solutions.md)。|  
|编译 .NET 程序集（.dll 或 .exe）或二进制文件。|将程序集或二进制文件从 Visual Studio 外部拖至代码图。<br /><br /> 仅当在相同的用户访问控制 (UAC) 权限级别运行 Windows 资源管理器或文件资源管理器和 Visual Studio 时，才能从 Windows 资源管理器或文件资源管理器拖动。 例如，如果启用了 UAC，并且你正以管理员身份运行 Visual Studio，则 Windows 资源管理器或文件资源管理器将阻止拖动操作。|  
  
### <a name="AddNodes"></a>   
##### <a name="add-a-link-between-existing-code-elements"></a>添加现有代码元素之间的链接  
  
1. 选择源代码元素。 代码元素的上方会出现一个工具栏。  
  
    ![依赖项关系图工具栏](../modeling/media/depedencygraph-toolbar.png "DepedencyGraph_Toolbar")  
  
2. 在工具栏中，选择第一个图标**创建从此节点到下一步单击的任意节点的新链接**。  
  
3. 选择目标代码元素。 链接将出现在两个代码元素之间。  
  
   \- 或 -  
  
4. 在代码图上选择源代码元素。  
  
5. 如果你安装了鼠标，将鼠标指针移动到代码图的边界外。  
  
6. 打开代码元素的快捷菜单，然后选择**编辑**，**添加**，**一般链接**。  
  
7. 用 Tab 键移动并为该链接选择目标代码元素。  
  
8. 按  “Return”。  
  
### <a name="AddComments"></a>   
##### <a name="add-a-comment-to-an-existing-node-on-the-map"></a>向代码图上的现有节点中添加注释  
  
1. 选择代码元素。 在其上方会出现一个工具栏。  
  
     ![依赖项关系图工具栏](../modeling/media/depedencygraph-toolbar.png "DepedencyGraph_Toolbar")  
  
2. 在工具栏中，选择的第三个图标**使用与所选节点的新链接创建新的注释节点**。  
  
     \- 或 -  
  
     打开代码元素的快捷菜单，然后选择**编辑**，**新注释**。  
  
3. 键入你的注释。 若要键入新行上，按**SHIFT** + **返回**。  
  
##### <a name="add-a-comment-to-the-map-itself"></a>向代码图本身中添加注释  
  
1. 打开代码图的快捷菜单，然后选择**编辑**，**新注释**。  
  
2. 键入你的注释。 若要键入新行上，按**SHIFT** + **返回**。  
  
### <a name="RenameNodes"></a>   
##### <a name="rename-a-code-element-or-link"></a>重命名代码元素或链接  
  
1. 选择想要重命名的代码元素或链接。  
  
2. 按**F2**，或打开快捷菜单，然后选择**编辑**，**重命名**。  
  
3. 当编辑框在代码图中出现时，重合名代码元素或链接。  
  
     \- 或 -  
  
4. 打开快捷菜单，然后选择**编辑**，**属性**。  
  
5. 编辑**标签**Visual Studio 属性窗口中的属性。  
  
##### <a name="remove-a-code-element-or-link-from-the-map"></a>从代码图中删除的代码元素或链接  
  
1. 选择代码元素或链接，然后按**删除**密钥。  
  
     \- 或 -  
  
     打开代码元素或链接的快捷菜单，然后选择**编辑**，**删除**。  
  
2. 如果元素或链接是一组的一部分**重新提取子级**按钮![重新提取子级图标](../modeling/media/dependencygraph-deletednodesicon.png "DependencyGraph_DeletedNodesIcon")出现在组内。 单击它可以检索缺少的元素和链接。  
  
- 你可以从代码图中移除代码元素和链接，而不会影响基础代码。 删除他们时，将从 DGML (.dgml) 文件中删除其定义。  
  
- 通过编辑 DGML、添加未定义的代码元素或通过使用某些早期版本的 Visual Studio 创建的代码图不支持此功能。  
  
##### <a name="flag-a-code-element-for-follow-up"></a>为跟进工作标记代码元素  
  
1. 选择想要标记为跟进工作的代码元素或链接。  
  
2. 打开快捷菜单，然后选择**编辑**，**标记为跟进工作**。  
  
- 默认情况下，代码元素会获得红色背景。 请考虑[添加注释](#AddComments)到它的相应后续信息。  
  
- 更改元素的背景色或通过选择清除跟进工作标志**编辑**，**其他标志颜色**。  
  
## <a name="ChangeStyleCodeOrLink"></a> 更改代码元素或链接的样式  
 你可以使用预定义的图标和颜色，更改代码元素上的图标以及代码元素和链接的颜色。 例如，你可以选择一种颜色来突出显示具有特定类别或属性的代码元素和链接。 这样，你将可标识和重点显示代码图的特定区域。 可以通过编辑图的.dgml 文件; 指定自定义图标和颜色请参阅[通过编辑 DGML 文件自定义代码图](../modeling/customize-code-maps-by-editing-the-dgml-files.md)。  
  
#### <a name="to-apply-a-predefined-color-or-icon-to-code-elements-or-links-with-a-certain-category-or-property"></a>将预定义的颜色或图标应用于具有特定类别或属性的代码元素或连接  
  
1. 在代码图工具栏上选择**图例**。  
  
2. 在中**图例**框中，请参阅代码元素类别或属性是否已显示在列表中。  
  
3. 如果列表不包含类别或属性，选择 **+** 中**图例**，然后选择**节点属性**，**节点类别**，**链接属性**，或**链接类别**。 然后选择属性或类别。 类别或属性现在显示在**图例**框。  
  
    > [!NOTE]
    > 若要创建并向代码元素分配一个类别或属性，可以编辑图的.dgml 文件;请参阅[通过编辑 DGML 文件自定义代码图](../modeling/customize-code-maps-by-editing-the-dgml-files.md)。  
  
4. 在中**图例**框中，单击类别或你添加的属性旁边的图标或你想要更改。  
  
5. 使用下表来选择要更改的样式：  
  
    |**若要更改**|**Choose**|  
    |-----------------------|----------------|  
    |背景色|**背景**|  
    |轮廓颜色|**Stroke**|  
    |文本颜色（出现字母“f”以显示结果）|**前景色**|  
    |图标|**图标**|  
  
     **颜色集选取器**或**图标集选取器**对话框随即出现，以便选择颜色或图标。  
  
6. 在中**颜色集选取器**或**图标集选取器**对话框中，执行下列任一操作：  
  
    |**若要将应用**|**执行这些步骤**|  
    |--------------------|-----------------------------|  
    |颜色集或图标集|打开**选择颜色**(或**图标**)**设置**列表。 选择一组颜色或图标。|  
    |特定颜色或图标|打开类别或属性值列表。 选择颜色或图标。|  
  
    > [!NOTE]
    > 您可以重新排列、 删除或暂时禁用中的样式**图例**框。 请参阅[编辑图例框](#ModifyLegend)。  
  
## <a name="ModifyLegend"></a> 编辑图例框  
 您可以重新排列、 删除或暂时禁用中的样式**图例**框：  
  
1. 打开快捷菜单中的样式**图例**框。  
  
2. 执行以下任务之一：  
  
    |**若要**|**Choose**|  
    |------------|----------------|  
    |停用代码元素|**禁用**|  
    |删除代码元素|**删除**|  
    |将样式上移|**上移**|  
    |将代码元素下移|**向下移动**|  
  
## <a name="CopyLegend"></a> 将样式从一个映射复制到另一个  
  
1. 请确保**图例**框出现在源代码图上。 如果不可见，请在代码图工具栏上，单击**图例**。  
  
2. 打开快捷菜单**图例**框。 选择**复制图例**。  
  
3. 将图例粘贴到目标代码图上。  
  
## <a name="MergeMaps"></a> 合并代码图  
 你可以通过在代码图间复制和粘贴代码元素来合并代码图。 如果代码元素标识符匹配，则粘贴代码元素的功能类似于合并操作。 若要使此任务更简单，请将要可视化的所有程序集或二进制文件放入同一个文件夹，以便每个程序集或二进制文件的完整路径与你要合并的每个代码图的相同。  
  
 或者，你可以将这些程序集或二进制文件从文件夹拖动到相同的代码图。  
  
## <a name="see-also"></a>请参阅  
 [映射解决方案之间的依赖项](../modeling/map-dependencies-across-your-solutions.md)   
 [使用代码图调试应用程序](../modeling/use-code-maps-to-debug-your-applications.md)   
 [使用代码图分析器发现潜在问题](../modeling/find-potential-problems-using-code-map-analyzers.md)   
 [通过编辑 DGML 文件自定义代码图](../modeling/customize-code-maps-by-editing-the-dgml-files.md)   
 [定向图形标记语言 (DGML) 引用](../modeling/directed-graph-markup-language-dgml-reference.md)