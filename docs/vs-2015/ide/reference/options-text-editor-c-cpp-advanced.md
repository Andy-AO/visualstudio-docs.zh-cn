---
title: “选项”->“文本编辑器”->“C/C++”->“高级”| Microsoft Docs
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-ide-general
ms.topic: reference
f1_keywords:
- VS.ToolsOptionsPages.Text_Editor.C\C++.Advanced
- VS.ToolsOptionsPages.Text_Editor.C%2FC%2B%2B.Advanced
- VS.ToolsOptionsPages.Text_Editor.C/C++.Advanced
helpviewer_keywords:
- Text Editor Options dialog box, advanced
ms.assetid: 67c82ae5-fddd-49df-baec-8e7498b156f3
caps.latest.revision: 23
author: jillre
ms.author: jillfra
manager: jillfra
ms.openlocfilehash: 236135cd4b4f813471ece7a0eeb1b221c7242df9
ms.sourcegitcommit: 6cfffa72af599a9d667249caaaa411bb28ea69fd
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/02/2020
ms.locfileid: "72662363"
---
# <a name="options-text-editor-cc-advanced"></a>选项，文本编辑器，C/C++，高级
[!INCLUDE[vs2017banner](../../includes/vs2017banner.md)]

通过更改这些选项，你可以在用 C 或 C++ 进行编程时更改与 IntelliSense 和浏览数据库有关的行为。

 若要访问此页，请在“选项”  对话框的左窗格中，展开“文本编辑器”  ，再展开“C/C++”  ，然后选择“高级”  。

> [!NOTE]
> 以下说明中的某些 Visual Studio 用户界面元素在计算机上出现的名称或位置可能会不同。 这些元素取决于你所使用的 Visual Studio 版本和你所使用的设置。 请参阅 [在 Visual Studio 中自定义开发设置](https://msdn.microsoft.com/22c4debb-4e31-47a8-8f19-16f328d7dcd3)。

## <a name="browsingnavigation"></a>浏览/导航
 除在极少数情况下，比如解决方案太大以致数据库活动占用过多的系统资源，否则不应选择以下选项。

 **禁用数据库** 将禁用代码浏览数据库 (.SDF) 、所有其他浏览/导航选项和除 #include 自动完成之外的所有 IntelliSense 功能。

 **禁用数据库更新** 数据库将以只读方式打开，并在编辑文件时不执行任何更新。 大多数功能仍然可用。 但是，进行编辑时，数据会变得陈旧，从而使获得的结果不正确。

 **禁用数据库自动更新** 修改源文件时，代码浏览数据库不会自动更新。 但是，如果依次打开**解决方案资源管理器**、项目的快捷菜单，然后选择“重新扫描解决方案”****，则会检查所有过期文件，并更新数据库。

 **禁用隐式文件** 代码浏览数据库不为未在项目中指定的文件收集数据。 项目包含显式指定的源文件和头文件。 隐式文件包含在显式文件（例如，afxwin.h、windows.h 和 atlbase.h）中。 通常情况下，系统会查找这些文件，还会针对各种浏览功能（包括“导航到”）为这些文件编制索引。 如果选择此选项，则不会为这些文件编制索引，从而无法对其使用某些功能。 如果选择此选项，还将隐式选择“禁用隐式清理”和“禁用外部依赖项”。

 **禁用隐式清理** 代码浏览数据库不清除不再引用的隐式文件。 此选项将阻止从数据库中删除不再使用的隐式文件。 例如，如果将引用 mapi.h 的 `#include` 指令添加到某个源文件中，系统会找到 mapi.h 并为其编制索引。 之后如果删除 #include，并且不在其他位置引用该文件，那么除非选择此选项，否则最终将删除其相关信息。  (参阅 " **重新扫描解决方案间隔** " 选项。当你显式重新扫描解决方案时，将忽略此选项 ) 。

 **禁用外部依赖项文件夹** 不会创建或更新每个项目的 "外部依赖项" 文件夹。 在**解决方案资源管理器**中，每个项目均包含一个外部依赖项文件夹，而该文件夹包含该项目的所有隐式文件。 如果选择此选项，则不显示该文件夹。

 **重新创建数据库** 在下一次加载解决方案时，从头开始重新创建代码浏览数据库。 如果选择此选项，将在下一次加载解决方案时删除 SDF 数据库文件，从而导致重新创建数据库，并为所有文件编制索引。

 **重新扫描解决方案间隔** 按指定的间隔计划 "立即重新扫描解决方案" 作业。 指定的间隔必须介于 0 到 5000 分钟之间。 默认值为 60 分钟。 重新扫描解决方案时，将检查文件时间戳以确定文件是否已在 IDE 外更改。 自动跟踪 IDE 中所做 (更改，并更新文件。 ) 隐式包含的文件以确定它们是否仍引用。

## <a name="diagnostic-logging"></a>诊断日志记录
 Microsoft 要求用户收集高级信息以诊断问题时会提供以下选项。 日志记录信息对用户而言毫无用处，因此建议保留其禁用状态。

 **启用日志记录** 启用到输出窗口的诊断日志记录。

 **日志记录级别** 设置日志详细级别（从0到5）。

 **日志记录筛选器** 使用位掩码筛选显示的事件类型。

 通过以下诸多选项进行设置：

- 0 - 无

- 1 - 常规

- 2 - 空闲

- 4 - WorkItem

- 8 - IntelliSense

- 16 - ACPerf

- 32 - ClassView

## <a name="fallback-location"></a>回退位置
 回退位置指不使用主位置（与解决方案位于同一目录）时 SDF 和 IntelliSense 支持文件（例如，iPCH）所在的位置。 当用户无权写入到解决方案目录或者解决方案目录位于一个慢速设备上时，可能会出现这种情况。 默认回退位置位于用户的临时目录中。

 **始终使用回退位置** 指示代码浏览数据库和 IntelliSense 文件应该始终存储在指定为 "回退位置" 的文件夹中，而不是放在 .sln 文件旁边。 IDE 永远不会尝试将 SDF 或 iPCH 文件与解决方案目录放在一起，并且始终使用回退位置。

 **如果使用回退位置，则不发出警告** 如果使用了 "回退位置"，则不会发出通知或提示。 通常，IDE 会告知你是否必须使用回退位置。 此选项将关闭该警告。

 **回退位置** 此值用作存储代码浏览数据库或 IntelliSense 文件的辅助位置。 默认情况下，临时目录为回退位置。 IDE 将在指定路径（或临时目录）下创建一个子目录，该子目录包含解决方案名称以及解决方案完整路径的哈希，从而避免产生解决方案名称相同的问题。

## <a name="intellisense"></a>IntelliSense
 **自动快速信息** 将指针移到文本上方时，启用 QuickInfo 工具提示。

 **禁用 IntelliSense** 禁用所有 IntelliSense 功能。 IDE 不创建 VCPkgSrv.exe 进程来处理 IntelliSense 请求，所有 IntelliSense 功能都无法正常工作（快速信息、成员列表、自动完成、参数帮助）。 同时禁用语义着色和引用突出显示。 此选项不会禁用只依赖数据库的浏览功能（包括导航栏、ClassView 和“属性”窗口）。

 **禁用自动更新** IntelliSense 更新将会延迟，直到发出 IntelliSense 的实际请求。 第一次对文件执行 IntelliSense 操作时，此延迟可能会导致其执行时间延长，但在非常慢或资源受限的计算机上设置此选项可能很有用。 如果选择此选项，还将隐式选择“禁用错误报告”和“禁用波形曲线”选项。

 **禁用错误报告** 禁用通过 "波形曲线" 和 "错误列表" 窗口报告 IntelliSense 错误。 同时禁用与错误报告相关联的后台分析。 如果选择此选项，还将隐式选择“禁用波形曲线”选项。

 **禁用波形曲线** 禁用 IntelliSense 错误波形曲线。 红色“波形曲线”不会出现在编辑器窗口中，但错误仍然在“错误列表”窗口中显示。

 **禁用 #include 自动完成** 禁用语句的自动完成 `#include` 。

 **在 #include 自动完成时使用正斜杠**`#include`使用 "/" 时触发语句的自动完成。 默认分隔符为反斜杠“\”。 编译器两者均可接受，因此可使用此选项指定基本代码所使用的分隔符。

 **最大缓存翻译单元** 数对于 IntelliSense 请求，每次都将保持活动状态的翻译单元的最大数目。 指定的值必须介于 2 到 15 之间。 此数字直接关系到将要运行的最大 VCPkgSrv.exe 进程数（针对 Visual Studio 的给定实例）。 默认值为 2，但如果有可用内存，可以增加此值，这样可能会略微提升 IntelliSense 的性能。

 有关转换单元的详细信息，请参阅[转换阶段](https://msdn.microsoft.com/library/a7f7a8c9-e8ba-4321-9e50-ebfbbdcce9db)。

 **禁用攻击性成员列表** 键入类型或变量的名称时，不会显示成员列表。 如“成员列表提交字符”**** 选项中所定义，此列表仅在键入某个提交字符后显示。

 **禁用成员列表关键字** 语言关键字（如 `void` ） `class` `switch` 不会出现在成员列表建议中。

 **禁用成员列表代码片段** 代码片段不会出现在成员列表建议中。

 **禁用语义着色** 关闭除语言关键字、字符串和注释之外的所有代码着色。

 **智能成员列表提交** 在完整键入的单词末尾选择 Enter 键时，将添加一行。

 **成员列表筛选器模式** 设置匹配算法的类型。 “模糊”**** 查找最可能的匹配项，因为它使用类似于拼写检查器的算法来查找相似但不完全相同的匹配项。 “智能筛选”**** 匹配子字符串，无论其是否位于单词的开头。 “前缀”**** 仅匹配单词开头的相同子字符串。

 **成员列表提交字符** 指定导致提交当前突出显示的成员列表建议的字符。 可以在此列表中添加或删除字符。

## <a name="references"></a>参考
 **禁用解析** 出于性能原因，"查找所有引用" 默认显示原始文本搜索结果，而不是使用 IntelliSense 来验证每个候选项。 若要使所有查找操作获得更准确的结果，可以清除此复选框。 若要按每个搜索进行筛选，请打开结果列表的相应快捷菜单，然后选择“解析结果”。

 **隐藏未确认** 隐藏 "查找所有引用" 结果中的未确认项。 如果未设置“禁用解析”选项，则可以使用此选项来隐藏结果中的未确认项。

 **禁用引用突出显示**

## <a name="see-also"></a>另请参阅
 [设置语言特定的编辑器选项](../../ide/reference/setting-language-specific-editor-options.md)
